// Minified with Google Closure Compiler; Un-minified js at "script.js"
var a=!1,e,f=0,g=5,h=1,k=0,l=1,m=1,n=!1,p=!0,q=!1,r;function s(c){return document.getElementById(c)}function u(c,b){var d="click";c.addEventListener?c.addEventListener(d,b,!1):c.attachEvent?c.attachEvent("on"+d,b):(d="on"+d,"function"===typeof c[d]&&(b=function(b,c){return function(){b.apply(this,arguments);c.apply(this,arguments)}}(c[d],b)),c[d]=b)}function v(c){s("overlay"+c).style.display="none"}function w(c){v(2);e=c}function x(c){v(3);document.getElementsByTagName("style")[0].innerHTML=".character { background-color:"+c+"}";s("20-"+l).className="character";a=!0;y();z()}function z(){function c(){var b,d,t;if(!1!==a&&!0!==n){for(b=1;10>=b;b++)s("20-"+b).a="character"===s("20-"+b).a?"character":"empty";for(b=19;0<b;b--)for(d=10;0<d;d--)t=b+1,"obstacle"===s(b+"-"+d).className&&"character"===s(t+"-"+d).className&&(q=!0),"character"!==s(t+"-"+d).className&&(s(t+"-"+d).className=s(b+"-"+d).className),s(b+"-"+d).className="empty";if(!0===p){for(b=0;b<e;b++)d=Math.ceil(10*Math.random()),"empty"===s("1-"+d).className?s("1-"+d).className="obstacle":b--;p=!1}else p=!0;if(!0===q&&(g--,s("lives").innerHTML=g,0===g)){a=!1;clearTimeout(r);s("message").innerHTML="<span id='gameover'>Game Over</span><p><a href='./'>Play Again?</a></p>";return}if(!1===q){b=!0;for(d=1;10>=d;d++)"obstacle"===s("20-"+d).className&&!0===b&&(k++,b=!1);!1===b&&(f+=5,s("points").innerHTML=f)}0!==k&&0===k%20&&!0===p&&(m++,h*=0.95,f=10*m+f,s("message").innerHTML="<h4>Level Up!</h4><p>Level: "+m+"</p><p>+"+10*m+" points</p>",y());q=!1;setTimeout(c,500*h)}}setTimeout(c,500*h)}document.onkeydown=function(c){var b;window.event?b=c.keyCode:c.which&&(b=c.which);if(!(!1===a||!0===n&&80!==b||37!==b&&39!==b&&80!==b)){s("20-"+l).className="empty";if(37===b)if(1===l){if("obstacle"===s("20-10").className){s("20-"+l).className="character";return}l=10}else{c=l-1;if("obstacle"===s("20-"+c).className){s("20-"+l).className="character";return}l--}else if(39===b)if(10===l){if("obstacle"===s("20-1").className){s("20-"+l).className="character";return}l=1}else{c=l+1;if("obstacle"===s("20-"+c).className){s("20-"+l).className="character";return}l++}else!1===n?(n=!0,s("message").innerHTML="Paused..."):(n=!1,s("message").innerHTML="",z());s("20-"+l).className="character"}};function y(){r=setTimeout(function(){s("message").innerHTML=""},7E3)}function A(){alert("Help and Information\n------------------------\n\nThe objective of this game is to use the arrow keys to move the character and avoid the falling obstacles./nFive points are awarded for each row of obstacles avoided./nAfter each twenty rows avoided, you level up. When you level up, the obstacles fall 5% faster, and 10 times the level number is added to your score./nIf you are hit by an obstacle head on, then one life is taken away. If you bump into one from the side, it stops you. Once you have no more lives, the game stops./nTo pause, press p.")}var B="",C,D;for(C=1;20>=C;C++){B+="<tr>";for(D=1;10>=D;D++)B+="<td id='"+C+"-"+D+"' class='empty'></td>";B+="</tr>"}s("mainTable").innerHTML=B;u(s("start"),function(){v(1)});u(s("help1"),function(){A()});u(s("help2"),function(){A()});u(s("showMore"),function(){s("b1").style.display="block";s("b4").style.display="block";s("b6").style.display="block";s("b7").style.display="block";s("showMore").style.display="none"});u(s("b1"),function(){w(1)});u(s("b2"),function(){w(2)});u(s("b3"),function(){w(3)});u(s("b4"),function(){w(4)});u(s("b5"),function(){w(5)});u(s("b6"),function(){w(6)});u(s("b7"),function(){w(7)});u(s("c1"),function(){x("#FF0000")});u(s("c2"),function(){x("#00FF00")});u(s("c3"),function(){x("#0000FF")});u(s("c4"),function(){x("#FF00FF")});u(s("c5"),function(){x("#FFFF00")});u(s("c6"),function(){x("#00FFFF")});u(s("c7"),function(){x("#FFFFFF")});
